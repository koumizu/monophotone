<% if !current_user?(micropost.user) %>
    <span class="like">
    <% if current_user.like?(micropost) %>
      <%= form_with(model: current_user.favorites.find_by(micropost_id: micropost.id), method: :delete) do |f| %>
        <%= hidden_field_tag :micropost_id, micropost.id %>
        <%= button_tag :type => "submit", :class =>"good" do %>
          <i class="fa fa-heart"></i>
        <% end %>
      <% end %>
    <% else %>
      <%= form_with(model: current_user.favorites.build) do |f| %>
        <%= hidden_field_tag :micropost_id, micropost.id %>
        <%= button_tag :type => "submit", :class =>"ungood" do %>
          <i class="fa fa-heart"></i>
        <% end %>
      <% end %>
    <% end %>
  </span>
<% end %>